
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login | Intern.Nation</title>
  <link rel="stylesheet" href="login.css">
  <link rel="icon" href="https://raw.githubusercontent.com/prbhleeen/intern.nation/2ce1f38b11eff07447dff46e30bb75106eef253c/logo.jpeg">
</head>
<body>
  <section class="card">
    <header class="logo-section">
      <img src="https://raw.githubusercontent.com/prbhleeen/intern.nation/2ce1f38b11eff07447dff46e30bb75106eef253c/logo.jpeg" 
           alt="Intern.Nation Logo" class="logo-img">
      <div>
        <h1 class="site-title">intern.nation</h1>
        <p class="tagline">Connecting Talent with Opportunity</p>
      </div>
    </header>

    <h2>Login</h2>

    <div class="role-selector">
      <button type="button" class="active" onclick="showForm('student')">Student</button>
      <button type="button" onclick="showForm('admin')">Admin</button>
      <button type="button" onclick="showForm('company')">Company</button>
    </div>

    <form class="form active" id="student" onsubmit="handleLogin(event, 'student')">
      <label>Email</label>
      <input type="email"  pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$" placeholder="Enter email" required name="email">

      <label>Password</label>
      <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}"  placeholder="Enter password" required name="password">

      <label>Student ID</label>
      <input type="text" pattern="[0-9]{10}" placeholder="Enter Student ID" required name="studentId">

      <button type="submit">Sign In</button>
      <p class="links"><a href="#">Forgot password?</a></p>
      <p class="links">New here? <a href="signup.html">Create account</a></p>
    </form>

    <form class="form" id="company" onsubmit="handleLogin(event, 'company')">
      <label>Company Email</label>
      <input type="email"  pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$"  placeholder="Enter company email" required name="email">

      <label>Password</label>
      <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}"  placeholder="Enter password" required name="password">

      <label>Company ID</label>
      <input type="text" pattern="[0-9]{10}" placeholder="Enter company code" required name="companyId">

      <button type="submit">Sign In</button>
      <p class="links"><a href="#">Forgot password?</a></p>
      <p class="links">New here? <a href="signup.html">Create account</a></p>
    </form>

    <form class="form" id="admin" onsubmit="handleLogin(event, 'admin')">
      <label>Admin Email</label>
      <input type="email"  pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$" placeholder="Enter admin email" required name="email">

      <label>Password</label>
      <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}"  placeholder="Enter password" required name="password">

      <label>Admin ID</label>
      <input type="text"  pattern="[0-9]{10}" placeholder="Enter admin ID" required name="adminId">

      <button type="submit">Sign In</button>
      <p class="links"><a href="#">Forgot password?</a></p>
      <p class="links">New here? <a href="signup.html">Create account</a></p>
    </form>

  </section>

  <script>
    // Basic JavaScript - Data Types and Variables
    let activeForm = 'student';
    const forms = ['student', 'admin', 'company'];
    
    // Basic JavaScript - Functions
    function showForm(role) {
      activeForm = role;
      
      // Basic JavaScript - Arrays and Control Flow
      for (let i = 0; i < forms.length; i++) {
        const form = document.getElementById(forms[i]);
        if (form) {
          form.classList.remove("active");
        }
      }
      
      const buttons = document.querySelectorAll(".role-selector button");
      for (let i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove("active");
      }
      
      const targetForm = document.getElementById(role);
      if (targetForm) {
        targetForm.classList.add("active");
      }
      
      // Fix: Use event properly
      const clickedButton = document.querySelector(`[onclick="showForm('${role}')"]`);
      if (clickedButton) {
        clickedButton.classList.add("active");
      }
    }

    // Basic JavaScript - Functions and Control Flow
    function handleLogin(event, role) {
      event.preventDefault();
      
      // Basic JavaScript - Variables and Arrays
      const form = event.target;
      const inputs = form.querySelectorAll('input[required]');
      let isValid = true;
      
      // Basic JavaScript - Control Flow (for loop)
      for (let i = 0; i < inputs.length; i++) {
        if (inputs[i].value.trim() === '') {
          isValid = false;
          inputs[i].style.borderColor = '#ff4444';
          inputs[i].style.boxShadow = '0 0 5px rgba(255, 68, 68, 0.3)';
        } else {
          inputs[i].style.borderColor = '#ccc';
          inputs[i].style.boxShadow = 'none';
        }
      }

      if (!isValid) {
        alert('Please fill in all required fields.');
        return;
      }

      // Basic validation for email format
      const emailInput = form.querySelector('input[type="email"]');
      if (emailInput && !isValidEmail(emailInput.value)) {
        emailInput.style.borderColor = '#ff4444';
        emailInput.style.boxShadow = '0 0 5px rgba(255, 68, 68, 0.3)';
        alert('Please enter a valid email address.');
        return;
      }

    // Basic JavaScript - JSON Objects
    const redirectUrls = {
        'student': 'student_dashboard/student_dashboard.html',
        'admin': 'Admin_Dashboard.html',
        'company': 'companydashboard.html'
      };
      
      // Simulate authentication (in real app, this would be an API call)
      console.log(`Login attempt for ${role}:`, {
        email: form.querySelector('input[name="email"]').value,
        id: form.querySelector('input[name$="Id"]').value
      });
      
      // For demo purposes, redirect after successful validation
      if (redirectUrls[role]) {
        window.location.href = redirectUrls[role];
      }
    }

    // Email validation helper function
    function isValidEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    // Basic JavaScript - Arrays and Event Handling
    const requiredInputs = document.querySelectorAll('input[required]');
    for (let i = 0; i < requiredInputs.length; i++) {
      requiredInputs[i].addEventListener('input', function() {
        if (this.value.trim() !== '') {
          this.style.borderColor = '#ccc';
          this.style.boxShadow = 'none';
        }
      });
    }

    // Add event listeners for role buttons
    document.addEventListener('DOMContentLoaded', function() {
      const roleButtons = document.querySelectorAll('.role-selector button');
      roleButtons.forEach(button => {
        button.addEventListener('click', function(e) {
          showForm(this.textContent.toLowerCase());
        });
      });
    });
  </script>
</body>
</html>
