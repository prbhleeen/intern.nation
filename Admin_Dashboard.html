<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard | intern.nation</title>
  <link rel="stylesheet" href="Admin_Dashboard.css">
  <link rel="icon" type="jpeg" href="https://github.com/prbhleeen/intern.nation/blob/main/logo.jpeg?raw=true">
</head>

<body>

  <header>
    <img src="https://github.com/prbhleeen/intern.nation/blob/main/logo.jpeg?raw=true" alt="intern.nation Logo">
    <h1>intern.nation - Admin Dashboard</h1>
  </header>

  <div class="dashboard-container">
    <aside class="sidebar">
      <ul>
        <li><a href="#profile-section">üë§ Profile</a></li>
        <li><a href="#statistics">üìä View All Statistics</a></li>
        <li><a href="#users">üë• Manage Users</a></li>
        <li><a href="#companies">üè¢ Manage Companies</a></li>
        <li><a href="#jobs">üìù Approve Job Posts</a></li>
        <li><a href="#schedules">üìÖ View Schedules</a></li>
        <li><a href="Admin_Settings.html">‚öô System Settings</a></li>
        <li><a href="#logout-confirm">üö™ Logout</a></li>
      </ul>
    </aside>

    <main class="main-content">

      <section id="statistics">
        <h2>Admin Overview</h2>
        <div class="stats">
          <div class="stat-card">
            <h3>320</h3>
            <p>Total Applications</p>
          </div>
          <div class="stat-card">
            <h3>85</h3>
            <p>Active Companies</p>
          </div>
          <div class="stat-card">
            <h3>540</h3>
            <p>Registered Students</p>
          </div>
          <div class="stat-card">
            <h3>25</h3>
            <p>Pending Approvals</p>
          </div>
        </div>
      </section>

      <section id="users">
        <h3>Manage Users</h3>
        <div class="table-container">
          <table class="users-table">
            <thead>
              <tr>
                <th>User Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Status</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="User Name">Priya Sharma</td>
                <td data-label="Email">priya@example.com</td>
                <td data-label="Role">Student</td>
                <td data-label="Status"><span class="badge active">Active</span></td>
                <td data-label="View"><button class="action-button view">View</button></td>
              </tr>
              <tr>
                <td data-label="User Name">Aditya Singh</td>
                <td data-label="Email">aditya@example.com</td>
                <td data-label="Role">Company HR</td>
                <td data-label="Status"><span class="badge pending">Pending</span></td>
                <td data-label="View"><button class="action-button view">View</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section id="companies">
        <h3>Pending Company Registrations</h3>
        <div class="table-container">
          <table class="companies-table">
            <thead>
              <tr>
                <th>Company Name</th>
                <th>Status</th>
                <th>Actions</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Company Name">InnovateTech Solutions</td>
                <td data-label="Status"><span class="badge pending">PENDING</span></td>
                <td data-label="Actions">
                  <button class="action-button approve">Approve</button>
                  <button class="action-button reject">Reject</button>
                </td>
                <td data-label="View"><button class="action-button view">View</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section id="jobs">
        <h3>Pending Job Postings</h3>
        <div class="table-container">
          <table class="jobs-table">
            <thead>
              <tr>
                <th>Job Title</th>
                <th>Company</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Job Title">Frontend Developer Intern</td>
                <td data-label="Company">Microsoft India</td>
                <td data-label="Status"><span class="badge pending">PENDING</span></td>
                <td data-label="Actions">
                  <button class="action-button approve">Approve</button>
                  <button class="action-button reject">Reject</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <footer>
    &copy; 2025 intern.nation | All Rights Reserved
  </footer>

  <div id="logout-confirm" class="overlay">
    <div class="confirm-box">
      <h3>Are you sure you want to logout?</h3>
      <div class="confirm-actions">
        <a href="login.html" class="yes">‚úÖ Yes, Logout</a>
        <a href="#" class="no">‚úñ Cancel</a>
      </div>
    </div>
  </div>
<div id="profile-section" class="overlay">
  <div class="confirm-box profile-card">
    <a href="#!" class="close-btn" onclick="window.location.hash=''; return false;">‚úñ</a>
    <h3 class="profile-title">Profile</h3>
    <div class="profile-content">
      <img src="https://github.com/prbhleeen/intern.nation/blob/main/shipra.png?raw=true" alt="Admin Profile">
      <h2 class="profile-name">Shipra</h2>
      <p class="profile-email">Email: Shipra@internnation.com</p>
      <p class="profile-role">Role: Admin</p>
    </div>
  </div>
</div>


  <script>
    // Apply saved theme (from Settings)
    document.addEventListener("DOMContentLoaded", () => {
      const savedTheme = localStorage.getItem("theme") || "light";
      document.documentElement.setAttribute("data-theme", savedTheme);
    });
  
  document.addEventListener("DOMContentLoaded", () => {
    // Apply saved theme (dark/light)
    const savedTheme = localStorage.getItem("theme") || "light";
    document.documentElement.setAttribute("data-theme", savedTheme);

    // Load saved approvals/rejections from localStorage
    const savedStatuses = JSON.parse(localStorage.getItem("adminStatuses")) || {};

    // Apply saved statuses to table
    document.querySelectorAll("table tbody tr").forEach((row, index) => {
      const key = row.querySelector("td:first-child")?.textContent?.trim();
      if (savedStatuses[key]) {
        const statusCell = row.querySelector('[data-label="Status"] .badge');
        if (statusCell) {
          statusCell.textContent = savedStatuses[key].toUpperCase();
          if (savedStatuses[key] === "approved") {
            statusCell.className = "badge active";
          } else {
            statusCell.className = "badge pending";
            statusCell.style.backgroundColor = "var(--danger-color)";
          }
        }
      }
    });

    // Handle Approve / Reject buttons
    const approveButtons = document.querySelectorAll(".action-button.approve");
    const rejectButtons = document.querySelectorAll(".action-button.reject");

    approveButtons.forEach(btn => {
      btn.addEventListener("click", () => handleAction(btn, "approved"));
    });

    rejectButtons.forEach(btn => {
      btn.addEventListener("click", () => handleAction(btn, "rejected"));
    });

    function handleAction(button, action) {
      const row = button.closest("tr");
      const statusCell = row.querySelector('[data-label="Status"] .badge');
      const key = row.querySelector("td:first-child")?.textContent?.trim();

      if (!statusCell || !key) return;

      const confirmAction = confirm(`Are you sure you want to ${action.toUpperCase()} this item?`);
      if (confirmAction) {
        if (action === "approved") {
          statusCell.textContent = "APPROVED";
          statusCell.className = "badge active";
          statusCell.style.backgroundColor = "var(--active-color)";
        } else {
          statusCell.textContent = "REJECTED";
          statusCell.className = "badge pending";
          statusCell.style.backgroundColor = "var(--danger-color)";
        }

        // Save to localStorage so it persists
        savedStatuses[key] = action;
        localStorage.setItem("adminStatuses", JSON.stringify(savedStatuses));

        // Show success notification
        showToast(`Item ${action.toUpperCase()} successfully.`);
      }
    }

    // Simple toast notification
    function showToast(message) {
      const toast = document.createElement("div");
      toast.textContent = message;
      toast.style.position = "fixed";
      toast.style.bottom = "25px";
      toast.style.right = "25px";
      toast.style.background = "var(--primary-color)";
      toast.style.color = "#fff";
      toast.style.padding = "10px 20px";
      toast.style.borderRadius = "8px";
      toast.style.boxShadow = "0 4px 8px rgba(0,0,0,0.2)";
      toast.style.zIndex = "2000";
      toast.style.opacity = "0";
      toast.style.transition = "opacity 0.3s ease";

      document.body.appendChild(toast);
      setTimeout(() => (toast.style.opacity = "1"), 50);
      setTimeout(() => {
        toast.style.opacity = "0";
        setTimeout(() => toast.remove(), 500);
      }, 2500);
    }
  });

  </script>

</body>

</html>
